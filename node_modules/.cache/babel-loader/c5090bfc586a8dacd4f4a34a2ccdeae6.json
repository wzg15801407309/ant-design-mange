{"remainingRequest":"/Users/zhuqin.wei/Desktop/yhy/pangSky-console/node_modules/babel-loader/lib/index.js!/Users/zhuqin.wei/Desktop/yhy/pangSky-console/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhuqin.wei/Desktop/yhy/pangSky-console/src/utils/OtherLogin.js","dependencies":[{"path":"/Users/zhuqin.wei/Desktop/yhy/pangSky-console/src/utils/OtherLogin.js","mtime":1581670424005},{"path":"/Users/zhuqin.wei/Desktop/yhy/pangSky-console/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhuqin.wei/Desktop/yhy/pangSky-console/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhuqin.wei/Desktop/yhy/pangSky-console/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n\nvar intFB = function intFB() {\n  if (window.FB) {\n    window.FB.init({\n      appId: process.env.VUE_APP_FACEBOOK_APPID,\n      autoLogAppEvents: true,\n      xfbml: true,\n      version: 'v3.3'\n    });\n  }\n};\n\nvar intGapi = function intGapi(handlePlantFormLogin) {\n  if (window.gapi) {\n    window.gapi.load('auth2', function () {\n      window._GOOGLE_Auth2 = window.gapi.auth2.init({\n        client_id: process.env.VUE_APP_GOOGLE_APPID,\n        //客户端ID\n        cookiepolicy: 'single_host_origin'\n      }); // \n\n      window._GOOGLE_Auth2.attachClickHandler(document.getElementById('GOOGLE_BTN'), {}, function (googleUser) {\n        var profile = window._GOOGLE_Auth2.currentUser.get().getBasicProfile();\n\n        handlePlantFormLogin('google', {\n          id: profile.getId(),\n          name: profile.getName(),\n          head: profile.getImageUrl(),\n          email: profile.getEmail()\n        });\n      }, function (error) {\n        console.log(JSON.stringify(error, undefined, 2));\n      });\n    });\n  }\n};\n\nvar intNaver = function intNaver(handlePlantFormLogin) {\n  if (window.naver) {\n    window.naverLogin = new window.naver.LoginWithNaverId({\n      clientId: 'bEnqtdv1aljZjdkXAYGg',\n      callbackUrl: process.env.VUE_APP_NAVER_CALLBACK1,\n      callbackHandle: true,\n      isPopup: false,\n      loginButton: {\n        color: 'green',\n        type: 2,\n        height: 55,\n        width: 100\n      }\n      /* callback 페이지가 분리되었을 경우에 callback 페이지에서는 callback처리를 해줄수 있도록 설정합니다. */\n\n    });\n    window.naverLogin.init();\n    window.addEventListener('load', loginFromNaver(handlePlantFormLogin));\n  }\n};\n\nvar loginFromNaver = function loginFromNaver(handlePlantFormLogin) {\n  if (window.location.hash == '' || window.location.hash.length < 10) {\n    return;\n  }\n\n  window.naverLogin.getLoginStatus(function (status) {\n    if (status) {\n      /* (5) 필수적으로 받아야하는 프로필 정보가 있다면 callback처리 시점에 체크 */\n      var email = window.naverLogin.user.getEmail();\n\n      if (email == undefined || email == null) {\n        alert('이메일은 필수정보입니다. 정보제공을 동의해주세요.');\n        /* (5-1) 사용자 정보 재동의를 위하여 다시 네아로 동의페이지로 이동함 */\n\n        window.naverLogin.reprompt();\n        return;\n      }\n\n      handlePlantFormLogin('naver', {\n        id: window.naverLogin.user.id,\n        name: window.naverLogin.user.nickname,\n        head: window.naverLogin.user.profile_image,\n        email: window.naverLogin.user.email\n      });\n    } else {\n      console.log('callback 처리에 실패하였습니다.');\n    }\n  });\n};\n\nexport var loginFromFacebook = function loginFromFacebook(handlePlantFormLogin) {\n  window.FB.login(function (response) {\n    if (response.authResponse) {\n      window.FB.api('/me', function (response) {\n        handlePlantFormLogin('facebook', {\n          id: response.id,\n          name: response.name,\n          email: response.name\n        });\n      });\n    } else {\n      console.log('User cancelled login or did not fully authorize.');\n    }\n  });\n};\nexport var initOtherLogin = function initOtherLogin(handlePlantFormLogin) {\n  intFB();\n  intGapi(handlePlantFormLogin);\n  intNaver(handlePlantFormLogin);\n};",{"version":3,"sources":["/Users/zhuqin.wei/Desktop/yhy/pangSky-console/src/utils/OtherLogin.js"],"names":["intFB","window","FB","init","appId","process","env","VUE_APP_FACEBOOK_APPID","autoLogAppEvents","xfbml","version","intGapi","handlePlantFormLogin","gapi","load","_GOOGLE_Auth2","auth2","client_id","VUE_APP_GOOGLE_APPID","cookiepolicy","attachClickHandler","document","getElementById","googleUser","profile","currentUser","get","getBasicProfile","id","getId","name","getName","head","getImageUrl","email","getEmail","error","console","log","JSON","stringify","undefined","intNaver","naver","naverLogin","LoginWithNaverId","clientId","callbackUrl","VUE_APP_NAVER_CALLBACK1","callbackHandle","isPopup","loginButton","color","type","height","width","addEventListener","loginFromNaver","location","hash","length","getLoginStatus","status","user","alert","reprompt","nickname","profile_image","loginFromFacebook","login","response","authResponse","api","initOtherLogin"],"mappings":"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","sourcesContent":["const intFB = () => {\n  if (window.FB) {\n    window.FB.init({\n      appId: process.env.VUE_APP_FACEBOOK_APPID,\n      autoLogAppEvents: true,\n      xfbml: true,\n      version: 'v3.3'\n    })\n  }\n}\nconst intGapi = handlePlantFormLogin => {\n  if (window.gapi) {\n    window.gapi.load('auth2', () => {\n      window._GOOGLE_Auth2 = window.gapi.auth2.init({\n        client_id: process.env.VUE_APP_GOOGLE_APPID, //客户端ID\n        cookiepolicy: 'single_host_origin'\n      })\n\n      // \n      window._GOOGLE_Auth2.attachClickHandler(\n        document.getElementById('GOOGLE_BTN'),\n        {},\n        googleUser => {\n          var profile = window._GOOGLE_Auth2.currentUser.get().getBasicProfile()\n          handlePlantFormLogin('google', {\n            id: profile.getId(),\n            name: profile.getName(),\n            head: profile.getImageUrl(),\n            email: profile.getEmail()\n          })\n        },\n        error => {\n          console.log(JSON.stringify(error, undefined, 2))\n        }\n      )\n    })\n  }\n}\n\nconst intNaver = handlePlantFormLogin => {\n  if (window.naver) {\n    window.naverLogin = new window.naver.LoginWithNaverId({\n      clientId: 'bEnqtdv1aljZjdkXAYGg',\n      callbackUrl: process.env.VUE_APP_NAVER_CALLBACK1,\n      callbackHandle: true,\n      isPopup: false,\n      loginButton: { color: 'green', type: 2, height: 55,width:100 }\n      /* callback 페이지가 분리되었을 경우에 callback 페이지에서는 callback처리를 해줄수 있도록 설정합니다. */\n    })\n    window.naverLogin.init() \n    window.addEventListener('load', loginFromNaver(handlePlantFormLogin)) \n  }\n}\n\nconst loginFromNaver = handlePlantFormLogin => {\n  if (window.location.hash == '' || window.location.hash.length < 10) {\n    return\n  } \n  window.naverLogin.getLoginStatus(status => {\n    if (status) {\n      /* (5) 필수적으로 받아야하는 프로필 정보가 있다면 callback처리 시점에 체크 */\n      var email = window.naverLogin.user.getEmail()\n      if (email == undefined || email == null) {\n        alert('이메일은 필수정보입니다. 정보제공을 동의해주세요.')\n        /* (5-1) 사용자 정보 재동의를 위하여 다시 네아로 동의페이지로 이동함 */\n        window.naverLogin.reprompt()\n        return\n      }\n      handlePlantFormLogin('naver', {\n        id: window.naverLogin.user.id,\n        name: window.naverLogin.user.nickname,\n        head: window.naverLogin.user.profile_image,\n        email: window.naverLogin.user.email\n      })\n    } else {\n      console.log('callback 처리에 실패하였습니다.')\n    }\n  })\n}\n\nexport const loginFromFacebook = handlePlantFormLogin => {\n  window.FB.login(response => {\n    if (response.authResponse) {\n      window.FB.api('/me', response => {\n        handlePlantFormLogin('facebook', {\n          id: response.id,\n          name: response.name,\n          email: response.name\n        })\n      })\n    } else {\n      console.log('User cancelled login or did not fully authorize.')\n    }\n  })\n}\n\nexport const initOtherLogin = handlePlantFormLogin => {  \n  \n  intFB()\n  intGapi(handlePlantFormLogin)\n  intNaver(handlePlantFormLogin)\n}\n"]}]}